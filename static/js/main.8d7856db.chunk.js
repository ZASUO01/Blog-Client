(this["webpackJsonpblog-users"]=this["webpackJsonpblog-users"]||[]).push([[0],{33:function(e,t,s){},58:function(e,t,s){"use strict";s.r(t);var r=s(1),c=s.n(r),l=s(27),a=s.n(l),n=(s(33),s(2)),o=s(4),i=s(3),d=s(6),m=s.p+"static/media/logo.066b8854.png",x=s.p+"static/media/logo-link.a3ccdac8.png",u=[s.p+"static/media/alien.1edfd19d.png",s.p+"static/media/clown.b59f8228.png",s.p+"static/media/cowboy.7abe7fee.png",s.p+"static/media/devil.557ff01b.png",s.p+"static/media/evil.5eb58324.png",s.p+"static/media/ghots.f5f1a740.png",s.p+"static/media/robot.29e12fc7.png",s.p+"static/media/dead.6b28cbe2.png"],j=s(0),b={backgroundImage:"url(".concat(m,")"),backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat"},f={backgroundImage:"url(".concat(x,")"),backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat"},h=function(e){var t=e.user,s=e.setUser;return Object(j.jsxs)("div",{className:"w-full flex flex-col bg-gray-300",children:[Object(j.jsx)("a",{href:"https://github.com/ZASUO01",target:"_blank",rel:"noreferrer",children:Object(j.jsx)("div",{className:"hidden absolute z-10  bg-indigo-500 border border-gray-400 left-2 w-28 h-28 top-14  rounded-full transform duration-300 hover:scale-110 cursor-pointer md:block",style:f})}),Object(j.jsx)("header",{className:"w-full bg-indigo-600 p-4",children:Object(j.jsxs)("div",{className:"w-full max-w-7xl mx-auto flex flex-col items-center justify-between md:flex-row",children:[Object(j.jsx)("div",{className:"w-80 h-10 mb-4 md:mb-0",style:b}),t?Object(j.jsxs)("div",{className:"flex flex-col items-center md:flex-row",children:[Object(j.jsxs)("div",{className:"flex items-center",children:[Object(j.jsx)("div",{className:"w-10 h-10 bg-gray-700 rounded-full mr-2 overflow-hidden",children:Object(j.jsx)("img",{src:u[t.icon_id],alt:"user-icon"})}),Object(j.jsx)("p",{className:"text-gray-200 text-xl font-bold md:mr-6",children:t.email})]}),Object(j.jsxs)("div",{className:"text-gray-50 text-xl font-semibold hover:underline md:mr-10 flex items-center cursor-pointer",onClick:function(){localStorage.removeItem("user"),s(null)},children:["Sair",Object(j.jsx)(d.j,{})]})]}):Object(j.jsxs)("div",{children:[Object(j.jsx)(o.b,{to:"/log-in",className:"text-gray-50 text-lg font-semibold hover:underline mr-10 md:text-xl",children:"Log in"}),Object(j.jsx)(o.b,{to:"/sign-up",className:"text-indigo-300 text-lg font-semibold hover:underline md:mr-10 md:text-xl",children:"Cadastrar"})]})]})}),Object(j.jsx)("nav",{className:"w-full p-2 bg-gray-300 border-b border-gray-400",children:Object(j.jsxs)("ul",{className:"w-full flex justify-center items-center md:ml-32 md:justify-start",children:[Object(j.jsx)(o.b,{to:"/",className:"text-gray-700 text-md font-bold mr-6 hover:underline md:text-lg md:mr-10",children:"Home"}),Object(j.jsx)(o.b,{to:"/posts",className:"text-gray-700 text-md font-bold mr-6 hover:underline md:text-lg md:mr-10",children:"Posts"}),Object(j.jsx)(o.b,{to:"/users",className:"text-gray-700 text-md font-bold hover:underline md:text-lg",children:"Usu\xe1rios"})]})})]})},g=s(7),O=s.n(g),p=function(e){var t=e.setUser,s=Object(i.f)(),c=Object(r.useState)(""),l=Object(n.a)(c,2),a=l[0],o=l[1],d=Object(r.useState)(""),m=Object(n.a)(d,2),x=m[0],u=m[1],b=Object(r.useState)(!1),f=Object(n.a)(b,2),h=f[0],g=f[1];return Object(j.jsx)("div",{className:"w-full",children:Object(j.jsxs)("div",{className:"w-full flex flex-col items-center justify-center py-10",children:[Object(j.jsx)("h1",{className:"text-3xl text-indigo-900 font-bold md:text-4xl",children:"Fa\xe7a Log in"}),Object(j.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),O.a.post("https://blog-api-14293.herokuapp.com/users/log-in",{email:a,password:x}).then((function(e){g(!1),localStorage.setItem("user",JSON.stringify(e.data)),t(e.data.user),s.push("/")})).catch((function(e){g(!0)}))}(e)},className:"mt-10 w-11/12 max-w-xl p-6 border border-gray-400 rounded-lg flex flex-col items-center",children:[h&&Object(j.jsx)("p",{className:"text-red-500 text-lg mb-2",children:"Erro: N\xe3o foi possivel autenticar"}),Object(j.jsxs)("div",{className:"w-full flex flex-col items-center justify-center",children:[Object(j.jsx)("input",{type:"text",name:"email",value:a,onChange:function(e){return o(e.target.value)},placeholder:"E-mail",className:"w-full h-12 border border-gray-400 rounded-xl pl-6 text-gray-500 text-lg outline-none",required:!0}),Object(j.jsx)("input",{type:"password",name:"password",value:x,onChange:function(e){return u(e.target.value)},placeholder:"Senha",className:"w-full h-12 border border-gray-400 rounded-xl pl-6 text-gray-500 text-lg mt-6 outline-none",required:!0}),Object(j.jsx)("input",{type:"submit",value:"Enviar",className:"outline-none mt-6 w-full h-10 bg-indigo-700 rounded-xl text-xl text-gray-100 cursor-pointer duration-300 hover:bg-indigo-600"})]})]})]})})},y=function(e){var t=e.setUser,s=Object(i.f)(),c=Object(r.useState)(""),l=Object(n.a)(c,2),a=l[0],o=l[1],d=Object(r.useState)(""),m=Object(n.a)(d,2),x=m[0],b=m[1],f=Object(r.useState)(""),h=Object(n.a)(f,2),g=h[0],p=h[1],y=Object(r.useState)(!1),v=Object(n.a)(y,2),N=v[0],w=v[1],S=Object(r.useState)(0),k=Object(n.a)(S,2),C=k[0],_=k[1],U=Object(r.useState)(!1),I=Object(n.a)(U,2),A=I[0],E=I[1];return Object(j.jsxs)("div",{className:"w-full flex flex-col items-center justify-center py-10",children:[Object(j.jsx)("h1",{className:"text-3xl text-gray-700 font-bold md:text-4xl",children:"Cadastre-se"}),Object(j.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),O.a.post("https://blog-api-14293.herokuapp.com/users/sign-up",{username:a,email:x,password:g,icon_id:C}).then((function(e){w(!1),localStorage.setItem("user",JSON.stringify(e.data)),t(e.data.user),s.push("/")})).catch((function(e){w(!0)}))}(e)},className:"mt-10 w-11/12 max-w-xl p-6 border border-gray-400 rounded-lg flex flex-col items-center",children:[N&&Object(j.jsx)("p",{className:"text-red-500 text-lg mb-2",children:"Erro: N\xe3o foi possivel criar o usu\xe1rio"}),Object(j.jsxs)("div",{className:"w-full flex flex-col items-center justify-center",children:[Object(j.jsx)("input",{type:"text",name:"username",value:a,onChange:function(e){return o(e.target.value)},placeholder:"Nome de Usu\xe1rio",className:"w-full h-12 border border-gray-400 rounded-xl pl-6 text-gray-500 text-lg outline-none mb-6",required:!0}),Object(j.jsx)("input",{type:"text",name:"email",value:x,onChange:function(e){return b(e.target.value)},placeholder:"E-mail",className:"w-full h-12 border border-gray-400 rounded-xl pl-6 text-gray-500 text-lg outline-none",required:!0}),Object(j.jsx)("input",{type:"password",name:"password",value:g,onChange:function(e){return p(e.target.value)},placeholder:"Senha",className:"w-full h-12 border border-gray-400 rounded-xl pl-6 text-gray-500 text-lg mt-6 outline-none",required:!0}),Object(j.jsx)("p",{className:"mt-6 text-gray-500 text-md text-center font-semibold md:text-lg",children:"Selecione um \xedcone de usu\xe1rio"}),A?Object(j.jsxs)("div",{className:"w-full p-4 border border-gray-400 mt-2 rounded-lg flex items-center justify-center",children:[Object(j.jsx)("div",{className:"w-24 h-24 justify-self-center bg-gray-700 rounded-lg flex items-center justify-center overflow-hidden",children:Object(j.jsx)("img",{src:u[C],alt:"icon-selected"})}),Object(j.jsx)("button",{className:"justify-self-center w-20 h-10 bg-gray-300 border border-gray-400 rounded-lg ml-4 text-gray-700 text-md font-semibold transform duration-300 hover:scale-110",onClick:function(e){return function(e){e.preventDefault(),E(!1)}(e)},children:"Cancelar"})]}):Object(j.jsx)("div",{className:"w-full p-4 border border-gray-400 mt-2 rounded-lg grid grid-cols-3 gap-y-4 md:grid-cols-4",children:u.map((function(e){return Object(j.jsx)("div",{className:"w-10 justify-self-center cursor-pointer rounded-lg transform duration-300 hover:scale-110 md:w-12",onClick:function(t){return s=u.indexOf(e),_(s),void E(!0);var s},isselected:-1,children:Object(j.jsx)("img",{src:e,alt:"user-icon"})},u.indexOf(e))}))}),Object(j.jsx)("input",{type:"submit",value:"Enviar",className:"outline-none mt-6 w-full h-10 bg-gray-700 rounded-xl text-xl text-gray-100 cursor-pointer duration-300 hover:bg-indigo-600"})]})]})]})},v=function(){return Object(j.jsxs)("div",{className:"w-full p-10 flex flex-col items-center justify-center",children:[Object(j.jsx)("h1",{className:"text-gray-600 text-xl md:text-3xl",children:"Redes Sociais"}),Object(j.jsxs)("div",{className:"w-full flex flex-col items-center justify-center mt-6 md:flex-row",children:[Object(j.jsx)("a",{href:"https://br.linkedin.com/",target:"_blank",rel:"noreferrer",children:Object(j.jsx)(d.h,{className:"text-7xl mb-10 md:mb-0 md:mr-10 text-blue-400"})}),Object(j.jsx)("a",{href:"https://github.com/ZASUO01",target:"_blank",rel:"noreferrer",children:Object(j.jsx)(d.f,{className:"text-7xl mb-10 md:mb-0 md:mr-10"})}),Object(j.jsx)("a",{href:"https://www.instagram.com/",target:"_blank",rel:"noreferrer",children:Object(j.jsx)(d.g,{className:"text-7xl mb-10 md:mb-0 md:mr-10 text-pink-400"})}),Object(j.jsx)("a",{href:"https://www.facebook.com/",target:"_blank",rel:"noreferrer",children:Object(j.jsx)(d.d,{className:"text-7xl text-blue-700"})})]})]})},N=s.p+"static/media/spy.ec01a2d1.png",w=function(e){var t=e.user,s=e.setUser;return Object(j.jsxs)("div",{className:"w-full py-6 flex flex-col items-center justify-center",children:[Object(j.jsx)("div",{className:"w-full p-6 flex items-center justify-center",children:Object(j.jsx)("h1",{className:"text-2xl text-gray-700 font-bold text-center md:text-3xl",children:"Seja bem-vindo ao blog"})}),Object(j.jsx)("div",{className:"w-full py-20 bg-indigo-900 flex flex-col items-center justify-center px-6 rounded-bl-3xl rounded-tr-3xl",children:t?Object(j.jsxs)("div",{className:"w-full flex flex-col items-center justify-center",children:[Object(j.jsxs)("div",{className:"w-full max-w-4xl flex flex-col items-center justify-between bg-indigo-400 rounded-lg py-4 px-2 mb-6 md:px-10 md:flex-row",children:[Object(j.jsxs)("div",{className:"flex items-center flex-col mb-6 md:mb-0 md:flex-row",children:[Object(j.jsx)("div",{className:"w-16 h-16 rounded-full mb-2 md:mb-0 md:mr-4 md:w-20 md:h-20",children:Object(j.jsx)("img",{src:t.icon_id>10?N:u[t.icon_id],alt:"user-icon"})}),Object(j.jsxs)("h1",{className:"flex items-center text-gray-700 text-lg font-semibold md:text-xl",children:["Logado como:",Object(j.jsx)("p",{className:"ml-2 text-indigo-700",children:t.username})]})]}),Object(j.jsx)("div",{className:"flex items-center justify-center",children:Object(j.jsx)("button",{className:"w-32 h-10 bg-gray-700 rounded-lg text-gray-100 text-lg font-semibold transform duration-300 hover:scale-110",onClick:function(){O.a.delete("https://blog-api-14293.herokuapp.com/users/".concat(t._id,"/delete"),{headers:{Authorization:"bearer ".concat(JSON.parse(localStorage.getItem("user")).token)}}).then((function(e){localStorage.removeItem("user"),s(null)}))},children:"Deletar conta"})})]}),Object(j.jsxs)("div",{className:"w-full flex flex-col items-center justify-center md:flex-row",children:[Object(j.jsx)(o.b,{to:"/posts",children:Object(j.jsx)("button",{className:"w-44 h-12 bg-indigo-300 rounded-lg text-gray-800 text-lg font-semibold mb-6 transform duration-300 hover:scale-110 md:mr-10 md:mb-0",children:"Confira os posts"})}),Object(j.jsx)(o.b,{to:"/users",children:Object(j.jsx)("button",{className:"w-44 h-12 bg-indigo-300 rounded-lg text-gray-800 text-md font-semibold transform duration-300 hover:scale-110",children:"Usu\xe1rios cadastrados"})})]})]}):Object(j.jsxs)("div",{children:[Object(j.jsxs)("h1",{className:"text-gray-50 text-lg font-semibold flex flex-col text-center items-center mb-6 md:text-2xl md:flex-row",children:[Object(j.jsx)(d.a,{className:"mb-2 md:mb-0 md:mr-2"}),"Seja autenticado para aproveitar todos os recursos."]}),Object(j.jsxs)("div",{className:"w-full flex flex-col items-center justify-center md:flex-row",children:[Object(j.jsx)(o.b,{to:"/log-in",children:Object(j.jsx)("button",{className:"w-44 h-12 bg-green-600 rounded-lg text-gray-50 text-xl  mb-6 transform duration-300 hover:scale-110 md:mr-10 md:mb-0",children:"Fa\xe7a login"})}),Object(j.jsx)(o.b,{to:"/sign-up",children:Object(j.jsx)("button",{className:"w-44 h-12 bg-indigo-500 rounded-lg text-indigo-200 text-xl transform duration-300 hover:scale-110",children:"Crie uma conta"})})]})]})}),Object(j.jsx)(v,{})]})},S=s.p+"static/media/default-cover.8105b76e.png",k=function(e){var t,s=e.post,r=e.user;return Object(j.jsxs)("div",{className:"w-11/12 max-w-5xl border border-gray-400 rounded-lg mb-20",children:[Object(j.jsxs)("div",{className:"w-full p-2 border-b flex items-center md:p-4",children:[Object(j.jsx)("div",{className:"w-10 h-10 rounded-full bg-gray-300 mr-4 overflow-hidden md:w-16 md:h-16",children:Object(j.jsx)("img",{src:r.icon_id>10?N:u[r.icon_id],alt:"user-icon"})}),Object(j.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[Object(j.jsx)("p",{className:"text-md text-indigo-700 font-bold md:text-xl",children:r.username}),Object(j.jsx)("p",{className:"text-sm text-gray-700 font-semibold md:text-md",children:(t=s.createdAt,t.split("T")[0])})]})]}),Object(j.jsx)("div",{className:"w-full h-44 flex items-center justify-center  bg-gray-800 overflow-hidden md:h-64",children:Object(j.jsx)("img",{src:"default"!==s.cover?s.cover:S,alt:"img",className:"w-full"})}),Object(j.jsxs)("div",{className:"w-full p-6 flex flex-col items-center justify-center",children:[Object(j.jsx)("p",{className:"text-center text-lg font-bold text-gray-700 mb-2 md:text-xl md:mb-4",children:s.title}),Object(j.jsx)("p",{className:"text-center text-md font-bold text-gray-500 mb-10 md:text-lg",children:s.call}),Object(j.jsx)(o.b,{to:"/posts/".concat(s._id),children:Object(j.jsx)("button",{className:"w-32 h-10 bg-indigo-600 rounded-lg text-gray-50 text-lg transform duration-300 hover:scale-110 md:w-44 md:h-12 md:text-xl",children:"Veja"})})]})]})},C=function(){return Object(j.jsx)("div",{className:"w-full h-96 flex items-center justify-center",children:Object(j.jsx)("div",{className:"loading-wheel"})})},_=function(e){var t=e.title,s=e.allItems,c=e.setAct,l=e.setCantFound,a=e.item_prop,o=Object(r.useState)(""),i=Object(n.a)(o,2),m=i[0],x=i[1];return Object(j.jsxs)("div",{className:"flex flex-col items-center justify-between w-11/12 max-w-5xl  p-4 border-b-2 border-gray-500 md:flex-row",children:[Object(j.jsx)("h1",{className:"text-gray-700 text-center text-xl font-regular mb-4 md:text-3xl md:mb-0",children:t}),Object(j.jsxs)("div",{className:"flex items-center justify-center",children:[Object(j.jsx)("input",{type:"text",value:m,onChange:function(e){return x(e.target.value)},name:"search",placeholder:"Digite algo",className:"w-44 h-8 border border-gray-400 rounded-none rounded-l-xl pl-6 outline-none md:w-64 md:h-10"}),Object(j.jsx)("button",{onClick:function(){return function(e){var t=s.filter((function(t){return t["".concat(e)].toLowerCase().search(m.toLocaleLowerCase())>-1}));t.length?l(!1):l(!0),c(t)}(a)},className:"w-16 h-8 flex justify-center items-center bg-indigo-500 rounded-r-xl text-gray-50 text-lg md:w-20 md:h-10 md:text-xl",children:Object(j.jsx)(d.i,{})})]})]})},U=function(e){var t=e.title,s=e.btn,r=e.setAct,c=e.setCantFound,l=e.allItems;return Object(j.jsxs)("div",{className:"w-full flex flex-col items-center justify-center",children:[Object(j.jsxs)("h1",{className:"text-gray-700 text-2xl font-semibold flex items-center",children:[t,Object(j.jsx)(d.e,{className:"ml-2"})]}),Object(j.jsx)("button",{className:"mt-4 w-44 h-10 bg-indigo-600 rounded-lg text-gray-50 text-md",onClick:function(){r(l),c(!1)},children:s})]})},I=function(){var e=Object(r.useState)([]),t=Object(n.a)(e,2),s=t[0],c=t[1],l=Object(r.useState)([]),a=Object(n.a)(l,2),o=a[0],i=a[1],d=Object(r.useState)(!0),m=Object(n.a)(d,2),x=m[0],u=m[1],b=Object(r.useState)(!1),f=Object(n.a)(b,2),h=f[0],g=f[1];return Object(r.useEffect)((function(){O.a.get("https://blog-api-14293.herokuapp.com/posts").then((function(e){c(e.data),i(e.data),u(!1)}))}),[]),Object(j.jsxs)("div",{className:"w-full py-6 px-2 flex flex-col items-center justify-center md:p-6",children:[Object(j.jsx)(_,{title:"Todas as postagens",allItems:s,setAct:i,setCantFound:g,item_prop:"title"}),Object(j.jsx)("div",{className:"w-full flex flex-col items-center justify-center py-10",children:x?Object(j.jsx)(C,{}):h?Object(j.jsx)(U,{title:"Nenhum post foi encontrado",btn:"Veja todos os posts",setAct:i,setCantFound:g,allItems:s}):o.map((function(e){return Object(j.jsx)(k,{post:e,user:e.user},e._id)}))})]})},A={whiteSpace:"pre-wrap",fontFamily:"Poppins"},E=function(e){var t=e.post;return Object(j.jsxs)("div",{className:"w-full border border-gray-400 rounded-lg overflow-hidden",children:[Object(j.jsxs)("div",{className:"w-full p-4 flex flex-col items-center justify-center border-b border-gray-400",children:[Object(j.jsx)("h1",{className:"text-indigo-900 font-bold text-lg md:text-2xl",children:t.title}),Object(j.jsx)("p",{className:"text-gray-700 text-md md:text-lg",children:t.user.username})]}),Object(j.jsx)("div",{className:"w-full py-6 px-4 flex items-center justify-center md:px-10",children:Object(j.jsx)("pre",{style:A,className:"text-gray-500 text-md w-full md:text-xl",children:t.content})}),Object(j.jsx)("div",{className:"w-full h-44 flex items-center justify-center bg-gray-900 overflow-hidden md:h-72",children:Object(j.jsx)("img",{src:"default"!==t.cover?t.cover:S,alt:"post-cover",className:"w-full"})})]})},F=function(e){var t,s=e.comment,c=e.actUser,l=e.updateVal,a=e.setUpdate,o=Object(r.useState)(!1),i=Object(n.a)(o,2),d=i[0],m=i[1],x=Object(r.useState)(s.content),b=Object(n.a)(x,2),f=b[0],h=b[1];return Object(j.jsxs)("div",{className:"w-full border border-gray-400 rounded-lg mb-6 relative",children:[c&&c._id===s.user._id&&Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{className:"absolute top-2 right-16 w-12 h-6 bg-indigo-400 rounded text-gray-50 text-sm transform duration-300 hover:scale-105 md:w-14 md:h-8 md:right-20",onClick:function(){return m(!0)},children:"Editar"}),Object(j.jsx)("button",{className:"absolute top-2 right-2 w-12 h-6 bg-red-400 rounded text-gray-50 text-sm transform duration-300 hover:scale-105  md:w-14 md:h-8",onClick:function(){O.a.delete("https://blog-api-14293.herokuapp.com/comments/".concat(s._id,"/delete"),{headers:{Authorization:"bearer ".concat(JSON.parse(localStorage.getItem("user")).token)}}).then((function(e){a(!l)}))},children:"Excluir"})]}),Object(j.jsxs)("div",{className:"w-full flex items-center justify-start p-4 border-b border-gray-300",children:[Object(j.jsx)("div",{className:"w-8 h-8 rounded-full overflow-hidden md:w-14 md:h-14",children:Object(j.jsx)("img",{src:u[s.user.icon_id],alt:"user-icon"})}),Object(j.jsxs)("div",{className:"ml-4",children:[Object(j.jsx)("p",{className:" text-indigo-700 text-sm font-bold md:text-xl",children:s.user.username}),Object(j.jsx)("p",{className:"text-sm text-gray-700 font-light md:text-md md:font-semibold",children:(t=s.createdAt,t.split("T")[0])})]})]}),Object(j.jsx)("div",{className:"w-full py-4 px-4 md:px-10",children:d?Object(j.jsxs)("div",{className:"flex items-center justify-start",children:[Object(j.jsx)("input",{type:"text",name:"content",value:f,onChange:function(e){return h(e.target.value)},onFocus:function(){return h("")},className:"w-4/5 max-w-5xl h-10 border border-gray-400 rounded-l-lg px-6 text-lg text-gray-600",minLength:"1"}),Object(j.jsx)("button",{className:"rounded-none w-20 h-10 bg-gray-300 text-gray-600 text-md border border-gray-400",onClick:function(){m(!1),h(s.content)},children:"Cancelar"}),Object(j.jsx)("button",{className:"rounded-r-lg w-20 h-10 bg-gray-300 border border-gray-400 text-gray-600 text-md",onClick:function(){O.a.put("https://blog-api-14293.herokuapp.com/comments/".concat(s._id,"/update"),{content:f},{headers:{Authorization:"bearer ".concat(JSON.parse(localStorage.getItem("user")).token)}}).then((function(e){m(!1),a(!l)})).catch((function(e){h("Informa\xe7\xf5es inv\xe1lidas. Digite novamente")}))},children:"Salvar"})]}):Object(j.jsx)("span",{className:"text-gray-600 text-md md:text-lg",children:s.content})})]})},J=function(e){var t=e.actUser,s=Object(i.f)(),c=Object(i.g)().id,l=Object(r.useState)({}),a=Object(n.a)(l,2),m=a[0],x=a[1],u=Object(r.useState)(!0),b=Object(n.a)(u,2),f=b[0],h=b[1],g=Object(r.useState)(""),p=Object(n.a)(g,2),y=p[0],v=p[1],N=Object(r.useState)(!1),w=Object(n.a)(N,2),S=w[0],k=w[1];Object(r.useEffect)((function(){O.a.get("https://blog-api-14293.herokuapp.com/posts/".concat(c)).then((function(e){x(e.data),h(!1)}))}),[S]);return Object(j.jsx)("div",{className:"w-full py-20 px-4 flex flex-col items-center justify-center md:px-10",children:f?Object(j.jsx)(C,{}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(E,{post:m.post}),Object(j.jsxs)("h1",{className:"my-10 flex items-center text-gray-700 text-lg font-semibold md:font-light md:text-2xl",children:[Object(j.jsx)(d.c,{className:"mr-2"}),"Coment\xe1rios (",m.comments.length,")"]}),m.comments.map((function(e){return Object(j.jsx)(F,{comment:e,actUser:t,updateVal:S,setUpdate:k},e._id)})),t?Object(j.jsxs)("form",{className:"w-full mt-10 flex flex-col items-center",onSubmit:function(e){return function(e){e.preventDefault(),O.a.post("https://blog-api-14293.herokuapp.com/comments/".concat(c,"/create"),{content:y},{headers:{Authorization:"bearer ".concat(JSON.parse(localStorage.getItem("user")).token)}}).then((function(e){k(!S),v("")})).catch((function(e){s.push("/log-in")}))}(e)},children:[Object(j.jsx)("textarea",{className:"w-full h-32 rounded-lg resize-none outline-none px-6 py-2 border border-gray-400 mb-6 text-gray-700 text-lg md:text-xl md:h-44",placeholder:"Comente algo",value:y,onChange:function(e){return v(e.target.value)},required:!0}),Object(j.jsx)("input",{type:"submit",value:"Comentar",className:"w-28 h-10 bg-indigo-600 rounded-lg text-gray-50 text-md transform duration-300 hover:scale-110 cursor-pointer md:text-xl md:w-36 md:h-12"})]}):Object(j.jsxs)("div",{className:"mt-10 w-full flex flex-col items-center justify-center",children:[Object(j.jsx)("h1",{className:"text-lg text-center text-gray-700 font-bold mb-4 md:text-xl",children:"Fa\xe7a login para poder fazer coment\xe1rios"}),Object(j.jsx)(o.b,{to:"/log-in",className:"text-lg text-indigo-700 hover:underline md:text-xl",children:"Clique aqui"})]})]})})},z=function(e){var t=e.user,s=function(e){return e.split("T")[0]};return Object(j.jsx)("div",{className:"w-full max-w-5xl p-4 border border-gray-400 rounded-lg mb-10",children:Object(j.jsxs)("div",{className:"w-full flex flex-col items-center justify-between md:flex-row",children:[Object(j.jsxs)("div",{className:"flex flex-col items-center justify-center mb-6 md:mb-0 md:flex-row",children:[Object(j.jsx)("div",{className:"mb-4 w-12 h-12 rounded-full flex items-center justify-center overflow-hidden md:w-16 md:h-16 md:mb-0",children:Object(j.jsx)("img",{src:t.icon_id>10?N:u[t.icon_id],alt:"user_icon"})}),Object(j.jsxs)("div",{className:"flex flex-col items-center justify-center md:ml-6 md:items-start",children:[Object(j.jsx)("h1",{className:"text-indigo-700 font-bold text-md md:text-xl",children:t.username}),Object(j.jsx)("h1",{className:"text-gray-700 text-md font-semibold md:text-xl",children:t.email})]})]}),Object(j.jsxs)("div",{className:"flex flex-col items-end justify-center",children:[Object(j.jsxs)("h1",{className:"text-md text-gray-700 flex items-center md:text-xl",children:[Object(j.jsx)(d.b,{className:"mr-6"}),"Usu\xe1rio criado em: ",s(t.createdAt)]}),Object(j.jsxs)("h1",{className:"text-md text-gray-700 flex items-center md:text-xl",children:[Object(j.jsx)(d.b,{className:"mr-6"}),"Ultima edi\xe7\xe3o em: ",s(t.updatedAt)]})]})]})})},q=function(){var e=Object(r.useState)([]),t=Object(n.a)(e,2),s=t[0],c=t[1],l=Object(r.useState)([]),a=Object(n.a)(l,2),o=a[0],i=a[1],d=Object(r.useState)(!0),m=Object(n.a)(d,2),x=m[0],u=m[1],b=Object(r.useState)(!1),f=Object(n.a)(b,2),h=f[0],g=f[1];return Object(r.useEffect)((function(){O.a.get("https://blog-api-14293.herokuapp.com/users").then((function(e){c(e.data),i(e.data),u(!1)}))}),[]),Object(j.jsxs)("div",{className:"w-full p-6 flex flex-col items-center justify-center",children:[Object(j.jsx)(_,{title:"Veja os usu\xe1rios cadastrados",allItems:s,setAct:i,setCantFound:g,item_prop:"username"}),Object(j.jsx)("div",{className:"w-full flex flex-col items-center justify-center py-10",children:x?Object(j.jsx)(C,{}):h?Object(j.jsx)(U,{title:"Nenhum usu\xe1rio foi encontrado",btn:"Veja todos os usu\xe1rios",setAct:i,setCantFound:g,allItems:s}):o.map((function(e){return Object(j.jsx)(z,{user:e},e._id)}))})]})},D=function(){var e=JSON.parse(localStorage.getItem("user"))?JSON.parse(localStorage.getItem("user")).user:null,t=Object(r.useState)(e),s=Object(n.a)(t,2),c=s[0],l=s[1];return Object(j.jsxs)(o.a,{basename:"/",children:[Object(j.jsx)(h,{user:c,setUser:l}),Object(j.jsxs)(i.c,{children:[Object(j.jsx)(i.a,{exact:!0,path:"/",children:Object(j.jsx)(w,{user:c,setUser:l})}),Object(j.jsx)(i.a,{exact:!0,path:"/posts",children:Object(j.jsx)(I,{})}),Object(j.jsx)(i.a,{exact:!0,path:"/posts/:id",children:Object(j.jsx)(J,{actUser:c})}),Object(j.jsx)(i.a,{exact:!0,path:"/users",children:Object(j.jsx)(q,{})}),Object(j.jsx)(i.a,{exact:!0,path:"/log-in",children:Object(j.jsx)(p,{setUser:l})}),Object(j.jsx)(i.a,{exact:!0,path:"/sign-up",children:Object(j.jsx)(y,{setUser:l})})]})]})};a.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(D,{})}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.8d7856db.chunk.js.map